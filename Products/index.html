<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RRD Packaging Solutions</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Comic+Neue:wght@400;700&family=Fredoka:wght@400;600&display=swap"
        rel="stylesheet">

    <!-- Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <!-- Lenis Smooth Scroll Script -->
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>

    <style>
        /* --- Reset & Base Styles --- */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            overflow-x: hidden;
        }

        /* --- Lenis Recommended CSS --- */
        html.lenis,
        html.lenis body {
            height: auto;
        }

        .lenis.lenis-smooth {
            scroll-behavior: auto !important;
        }

        .lenis.lenis-stopped {
            overflow: hidden;
        }

        .lenis.lenis-scrolling iframe {
            pointer-events: none;
        }

        /* --- COMPLETELY HIDE SCROLLBAR --- */
        ::-webkit-scrollbar {
            display: none;
            width: 0 !important;
            height: 0 !important;
            background: transparent;
        }

        html {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        body {
            font-family: "Roboto", sans-serif;
            background-color: #f9fafb;
            color: #1f2937;
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            overflow: hidden;
            width: 100%;
            padding-top: 80px;
        }

        body.loaded {
            overflow-y: visible;
            overflow-x: hidden;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        button {
            all: unset;
            cursor: pointer;
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
        }

        /* --- Animations Optimized --- */
        .reveal {
            opacity: 0;
            transform: translateY(60px);
            transition: opacity 1.2s cubic-bezier(0.215, 0.61, 0.355, 1), transform 1.2s cubic-bezier(0.215, 0.61, 0.355, 1);
            will-change: opacity, transform;
        }

        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        /* --- Navbar Container --- */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 50;
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid #e5e7eb;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        }

        .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 16px;
        }

        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 80px;
            position: relative;
            transition: height 0.3s ease;
        }

        /* --- Logo --- */
        .logo-container {
            display: flex;
            align-items: center;
            cursor: pointer;
            font-weight: 900;
            font-size: 24px;
            color: #3d4094;
            letter-spacing: -1px;
        }

        .logo-img {
            width: 6rem;
            margin-top: 8px;
        }

        /* --- Desktop Menu --- */
        .desktop-menu {
            display: none;
            align-items: center;
            gap: 24px;
        }

        .nav-link {
            color: #4b5563;
            font-weight: 500;
            font-size: 15px;
            transition: color 0.2s ease;
            display: flex;
            align-items: center;
            white-space: nowrap;
            position: relative;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -4px;
            left: 0;
            background-color: #3d4094;
            transition: width 0.3s;
        }

        .nav-link:hover::after {
            width: 100%;
        }

        .nav-link:hover,
        .dropdown-trigger:hover {
            color: #3d4094;
        }

        .dropdown-trigger {
            display: flex;
            align-items: center;
            color: #4b5563;
            font-weight: 500;
            font-size: 15px;
            transition: color 0.2s ease;
            white-space: nowrap;
            gap: 4px;
        }

        .caret-icon {
            font-size: 12px;
            transition: transform 0.2s ease;
        }

        /* --- Desktop Dropdown --- */
        .dropdown-parent {
            position: relative;
            padding: 10px 0;
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            margin-top: 0px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            border: 1px solid #f3f4f6;
            overflow: hidden;
            opacity: 0;
            visibility: hidden;
            transform: translateY(10px);
            transition: all 0.2s ease;
            min-width: 180px;
            z-index: 100;
        }

        .dropdown-menu.right-align {
            left: auto;
            right: 0;
        }

        .dropdown-menu.wide {
            width: 288px;
        }

        .dropdown-menu.medium {
            width: 240px;
        }

        .dropdown-parent:hover .dropdown-menu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-parent:hover .caret-icon {
            transform: rotate(180deg);
        }

        .dropdown-item {
            display: block;
            padding: 10px 16px;
            font-size: 14px;
            color: #374151;
            margin: 4px;
            border-radius: 8px;
            transition: background-color 0.15s, color 0.15s;
            white-space: nowrap;
        }

        .dropdown-item:hover {
            background-color: #eef2ff;
            color: #4f46e5;
        }

        /* --- Mobile Menu Button --- */
        .mobile-menu-btn-container {
            display: flex;
            align-items: center;
        }

        .mobile-menu-btn {
            color: #4b5563;
            padding: 8px;
            font-size: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Responsive Breakpoint for Navbar */
        @media (min-width: 1200px) {
            .desktop-menu {
                display: flex;
                position: absolute;
                left: 50%;
                transform: translateX(-50%);
            }

            .mobile-menu-btn-container {
                display: none;
            }
        }

        /* --- Mobile Menu Styles --- */
        .mobile-menu {
            display: block;
            position: fixed;
            top: 80px;
            left: 0;
            width: 100%;
            height: calc(100vh - 80px);
            background-color: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            z-index: 49;
            transform: translateX(100%);
            opacity: 0;
            transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1), opacity 0.3s ease;
            overflow-y: auto;
            overscroll-behavior: contain;
            border-top: 1px solid #e5e7eb;
            box-shadow: none;
        }

        .mobile-menu.open {
            transform: translateX(0);
            opacity: 1;
        }

        @media (min-width: 1200px) {
            .mobile-menu {
                display: none;
            }
        }

        .mobile-nav-container {
            padding: 24px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            padding-bottom: 100px;
        }

        .mobile-link {
            display: block;
            width: 100%;
            padding: 16px 20px;
            font-size: 1.1rem;
            font-weight: 600;
            color: #1f2937;
            background-color: #ffffff;
            border: 1px solid #f3f4f6;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.02);
            transition: all 0.2s ease;
        }

        .mobile-link:hover {
            background-color: #f9fafb;
            border-color: #3d4094;
            color: #3d4094;
            transform: translateX(4px);
        }

        .mobile-dropdown-btn {
            display: flex;
            justify-content: flex-start;
            gap: 12px;
            align-items: center;
            width: 100%;
            padding: 16px 20px;
            font-size: 1.1rem;
            font-weight: 600;
            color: #1f2937;
            background-color: #ffffff;
            border: 1px solid #f3f4f6;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.02);
            transition: all 0.2s ease;
        }

        .mobile-dropdown-content {
            display: none;
            margin-top: 8px;
            background-color: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            overflow: hidden;
            margin-left: 0;
            padding-left: 0;
            border-left: none;
        }

        .mobile-dropdown-content.show {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .mobile-sub-link {
            display: block;
            padding: 14px 24px;
            font-size: 0.95rem;
            font-weight: 500;
            color: #4b5563;
            border-bottom: 1px solid #e2e8f0;
            transition: color 0.2s, background-color 0.2s, padding-left 0.2s;
        }

        .mobile-sub-link:last-child {
            border-bottom: none;
        }

        .rotate-180 {
            transform: rotate(180deg);
        }

        /* --- Loader Styles --- */
        #loader {
            position: fixed;
            inset: 0;
            background-color: #ffffff;
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: opacity 0.6s ease, visibility 0.6s ease;
        }

        #loader.hidden {
            opacity: 0;
            visibility: hidden;
        }

        /* Spinning Box Animation */
        .box-spinner {
            width: 60px;
            height: 60px;
            border: 5px solid #3d4094;
            border-top: 5px solid #00a859;
            border-right: 5px solid #ed3338;
            border-radius: 8px;
            margin-bottom: 20px;
            animation: box-morph 1.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        @keyframes box-morph {
            0% {
                transform: rotate(0deg) scale(1);
                border-radius: 8px;
            }

            50% {
                transform: rotate(180deg) scale(1.15);
                border-radius: 50%;
                border-width: 3px;
            }

            100% {
                transform: rotate(360deg) scale(1);
                border-radius: 8px;
            }
        }

        /* --- PRODUCT GRID SECTION STYLES --- */
        .pkg-section {
            background: linear-gradient(180deg, #00b0f0 0%, #b1eaff 100%);
            padding-bottom: 50px;
            padding-top: 50px;
            color: #333;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: calc(100vh - 80px);
            transition: opacity 0.3s ease;
        }

        .pkg-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            text-align: center;
        }

        .pkg-section h1 {
            color: #ffffff;
            font-size: 2.5rem;
            margin-bottom: 40px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            font-weight: 700;
        }

        /* --- Search Bar Styles --- */
        .search-container {
            margin-bottom: 40px;
            position: relative;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }

        .search-input {
            width: 100%;
            padding: 15px 50px 15px 25px;
            border-radius: 30px;
            border: none;
            font-size: 1rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            outline: none;
            transition: box-shadow 0.3s ease;
            font-family: "Roboto", sans-serif;
        }

        .search-input:focus {
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        .search-icon {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #3d4094;
            font-size: 1.2rem;
            pointer-events: none;
        }

        .pkg-product-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 25px;
            margin-bottom: 50px;
        }

        .pkg-product-card {
            width: calc(33.333% - 17px);
            background-color: rgba(247, 241, 241, 0.38);
            border-radius: 15px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            cursor: pointer;
            position: relative;
            text-decoration: none;
            /* Ensure link underline is removed */
            color: inherit;
            /* Inherit text color */
        }

        .pkg-product-card:hover {
            transform: translateY(-5px) !important;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
            background-color: rgba(247, 241, 241, 0.55);
        }

        .pkg-product-image {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 15px;
            background-color: #fff;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .pkg-product-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #004d66;
            text-transform: capitalize;
        }

        .arrow-icon {
            margin-top: 8px;
            font-size: 24px;
            color: #ed3338;
            opacity: 0;
            transform: translateX(-20px);
            transition: all 0.3s ease;
        }

        .pkg-product-card:hover .arrow-icon {
            opacity: 1;
            transform: translateX(0);
        }

        /* --- PRODUCT DETAIL VIEW STYLES --- */
        .product-details-section {
            padding: 50px 20px;
            max-width: 1000px;
            margin: 0 auto;
            min-height: calc(100vh - 80px - 300px);
            /* Adjust based on navbar/footer */
            display: none;
            /* Hidden by default */
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .pd-header {
            display: flex;
            flex-direction: column;
            gap: 30px;
            margin-bottom: 40px;
        }

        @media(min-width: 768px) {
            .pd-header {
                flex-direction: row;
                align-items: flex-start;
                gap: 50px;
            }
        }

        .pd-image-container {
            flex: 1;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            background: #fff;
            position: relative;
            cursor: zoom-in;
            /* Indicate zoom ability */
        }

        .pd-image {
            width: 100%;
            height: auto;
            object-fit: cover;
            display: block;
            transition: transform 0.2s ease;
            /* Smooth zoom transition */
            transform-origin: center center;
        }

        .pd-info {
            flex: 1;
            text-align: left;
            padding-top: 10px;
        }

        .pd-title {
            font-family: "Fredoka", sans-serif;
            font-size: 2.5rem;
            color: #3d4094;
            margin-bottom: 20px;
            line-height: 1.2;
        }

        .pd-spec-title {
            font-size: 1.5rem;
            color: #1f2937;
            margin-bottom: 15px;
            display: inline-block;
            border-bottom: 3px solid #ed3338;
            /* The underline */
            padding-bottom: 5px;
            font-weight: 700;
            font-family: 'Segoe UI', sans-serif;
        }

        .pd-spec-text {
            font-size: 1.1rem;
            color: #4b5563;
            line-height: 1.8;
            margin-bottom: 30px;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .back-btn,
        .quote-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.2s;
            cursor: pointer;
            border: 1px solid;
        }

        .back-btn {
            background-color: #f3f4f6;
            color: #374151;
            border-color: #e5e7eb;
        }

        .back-btn:hover {
            background-color: #e5e7eb;
        }

        .quote-btn {
            background-color: #ed3338;
            color: white;
            border-color: #ed3338;
        }

        .quote-btn:hover {
            background-color: #d12025;
            box-shadow: 0 4px 12px rgba(237, 51, 56, 0.3);
        }

        /* --- Quote Modal Styles --- */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            backdrop-filter: blur(4px);
        }

        .modal-overlay.open {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 16px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            transform: translateY(20px);
            transition: transform 0.3s ease;
            position: relative;
            max-height: 85vh;
            overflow-y: auto;
            /* Enhance scrolling on touch devices */
            -webkit-overflow-scrolling: touch;
            overscroll-behavior: contain;
        }

        .modal-overlay.open .modal-content {
            transform: translateY(0);
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            color: #9ca3af;
            cursor: pointer;
            transition: color 0.2s;
        }

        .modal-close:hover {
            color: #1f2937;
        }

        .modal-title {
            font-size: 1.5rem;
            color: #3d4094;
            margin-bottom: 20px;
            font-weight: 700;
            font-family: "Fredoka", sans-serif;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            color: #374151;
            font-size: 0.9rem;
        }

        .form-input,
        .form-textarea {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-family: inherit;
            font-size: 1rem;
            outline: none;
            transition: border-color 0.2s;
        }

        .form-input:focus,
        .form-textarea:focus {
            border-color: #3d4094;
            box-shadow: 0 0 0 3px rgba(61, 64, 148, 0.1);
        }

        .form-textarea {
            resize: vertical;
            min-height: 100px;
        }

        .modal-submit {
            width: 100%;
            background-color: #3d4094;
            color: white;
            padding: 12px;
            border-radius: 8px;
            font-weight: 600;
            margin-top: 10px;
            transition: background-color 0.2s;
        }

        .modal-submit:hover {
            background-color: #31347a;
        }

        /* --- Footer --- */
        .footer-section {
            background-color: #1f2937;
            color: #f3f4f6;
            padding: 80px 0 30px 0;
            font-family: "Roboto", sans-serif;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 60px;
        }

        .footer-col h3 {
            color: #ffffff;
            font-family: "Fredoka", sans-serif;
            font-size: 1.5rem;
            margin-bottom: 25px;
            position: relative;
            padding-bottom: 10px;
        }

        .footer-col h3::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 50px;
            height: 3px;
            background-color: #ed3338;
            border-radius: 2px;
        }

        .footer-logo img {
            width: 6rem;
        }

        .footer-about-text {
            color: #9ca3af;
            line-height: 1.8;
            font-size: 1rem;
            max-width: 300px;
        }

        .footer-links,
        .footer-contact {
            list-style: none;
            padding: 0;
        }

        .footer-links li {
            margin-bottom: 12px;
        }

        .footer-links a {
            color: #d1d5db;
            transition: color 0.3s ease;
            display: flex;
            align-items: center;
        }

        .footer-links a:hover {
            color: #ed3338;
            padding-left: 5px;
        }

        .footer-contact li {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            color: #d1d5db;
            align-items: flex-start;
        }

        .footer-contact i {
            color: #ed3338;
            font-size: 1.5rem;
            margin-top: 3px;
        }

        .footer-bottom {
            border-top: 1px solid #374151;
            padding-top: 30px;
            text-align: center;
            color: #9ca3af;
            font-size: 0.95rem;
        }

        /* --- Responsive Styles --- */
        @media (max-width: 992px) {
            .pkg-product-card {
                width: calc(50% - 13px);
            }
        }

        @media (max-width: 768px) {
            .pkg-section {
                padding-top: 30px;
                padding-bottom: 30px;
            }

            .pkg-section h1 {
                font-size: 2rem;
                margin-bottom: 30px;
            }

            .footer-section {
                padding: 50px 0 20px 0;
            }

            .pd-title {
                font-size: 2rem;
            }

            .pd-header {
                flex-direction: column;
            }
        }

        @media (max-width: 600px) {
            .pkg-product-grid {
                gap: 15px;
            }

            .pkg-product-card {
                width: calc(50% - 8px);
                padding: 10px;
            }

            .pkg-section h1 {
                font-size: 1.8rem;
            }

            .pkg-product-image {
                height: 180px;
                margin-bottom: 10px;
            }

            .pkg-product-title {
                font-size: 0.95rem;
            }
        }

        @media (max-width: 480px) {
            body {
                padding-top: 70px;
            }

            .nav-content {
                height: 70px;
            }

            .mobile-menu {
                top: 70px;
                height: calc(100vh - 70px);
            }

            .mobile-menu-btn {
                font-size: 24px;
            }

            /* Optimized Modal for Small Screens */
            .modal-content {
                width: 95%;
                padding: 20px;
                max-height: 80vh;
            }

            .modal-title {
                font-size: 1.3rem;
                margin-bottom: 15px;
            }

            .form-group {
                margin-bottom: 12px;
            }
        }
    </style>
</head>

<body>

    <nav id="navbar" class="navbar">
        <div class="container">
            <div class="nav-content">
                <div class="logo-container">
                    <img src="./asset/RRD_LOGO.png" class="logo-img" alt="RRD Logo"
                        onerror="this.onerror=null; this.src='https://placehold.co/150x50/3d4094/ffffff?text=RRD';">
                </div>

                <div class="desktop-menu">
                    <a href="./index.html" class="nav-link">Home</a>
                    <a href="./Aboutus/index.html" class="nav-link">About</a>

                    <div class="dropdown-parent">
                        <button class="dropdown-trigger">
                            <span>Products</span>
                            <i class="ph ph-caret-down caret-icon"></i>
                        </button>
                        <div class="dropdown-menu wide">
                            <!-- Updated onclick handlers with event param to close dropdown on desktop -->
                            <a href="#" class="dropdown-item"
                                onclick="openProductByName('Stand Up Pouches', event); return false;">Stand Up
                                Pouches</a>
                            <a href="#" class="dropdown-item"
                                onclick="openProductByName('Zipper Pouches', event); return false;">Zipper Pouches</a>
                            <a href="#" class="dropdown-item"
                                onclick="openProductByName('Gussetted Pouches', event); return false;">Gussetted
                                Pouches</a>
                            <a href="#" class="dropdown-item"
                                onclick="openProductByName('Centre Seal Pouches', event); return false;">Centre Seal
                                Pouches</a>
                            <a href="#" class="dropdown-item"
                                onclick="openProductByName('3 Side Seal', event); return false;">3 Side Seal Pouches</a>
                            <a href="#" class="dropdown-item"
                                onclick="openProductByName('Spout Pouches', event); return false;">Spout Pouches</a>
                            <a href="#" class="dropdown-item"
                                onclick="openProductByName('Vacuum Pouches', event); return false;">Vacuum Pouches</a>
                            <a href="#" class="dropdown-item"
                                onclick="openProductByName('D Cut & Euro Hole', event); return false;">D Cut & Euro Hole
                                Pouches</a>
                            <a href="#" class="dropdown-item"
                                onclick="openProductByName('Shrink Film', event); return false;">Shrink Film</a>
                            <a href="#" class="dropdown-item"
                                onclick="openProductByName('Mulching Film', event); return false;">Mulching Film</a>
                            <a href="#" class="dropdown-item"
                                onclick="openProductByName('LD Liners', event); return false;">LD
                                Liners</a>
                            <a href="#" class="dropdown-item"
                                onclick="openProductByName('Stretch Film', event); return false;">Stretch Film</a>
                        </div>
                    </div>

                    <div class="dropdown-parent">
                        <button class="dropdown-trigger">
                            <span>Ecosystem</span>
                            <i class="ph ph-caret-down caret-icon"></i>
                        </button>
                        <div class="dropdown-menu">
                            <a href="#" class="dropdown-item">Technology Infrastructure</a>
                            <a href="#" class="dropdown-item">Manufacturing Process</a>
                            <a href="#" class="dropdown-item">Strategic Ventures</a>
                        </div>
                    </div>

                    <a href="./Quality-assurance/index.html" class="nav-link">Quality</a>
                    <a href="./ventures/index.html" class="nav-link">Ventures</a>
                    <a href="#" class="nav-link">Careers</a>
                    <a href="./Contact-us/index.html " class="nav-link">Contact</a>

                    <div class="dropdown-parent">
                        <button class="dropdown-trigger">
                            <span>Knowledge Center</span>
                            <i class="ph ph-caret-down caret-icon"></i>
                        </button>
                        <div class="dropdown-menu medium right-align">
                            <a href="#" class="dropdown-item">Insights & Blogs</a>
                            <a href="#" class="dropdown-item">News & Updates</a>
                            <a href="#" class="dropdown-item">Certifications & Compliance</a>
                        </div>
                    </div>
                </div>

                <div class="mobile-menu-btn-container">
                    <button id="mobile-menu-btn" class="mobile-menu-btn" aria-label="Toggle menu">
                        <i id="menu-icon" class="ph ph-list"></i>
                    </button>
                </div>
            </div>
        </div>

        <div id="mobile-menu" class="mobile-menu" data-lenis-prevent>
            <div class="mobile-nav-container">
                <a href="#" class="mobile-link">Home</a>
                <a href="./Aboutus/index.html" class="mobile-link">About</a>
                <!-- Mobile Dropdowns -->
                <div>
                    <button class="mobile-dropdown-btn">
                        <span>Products</span>
                        <i class="ph ph-caret-down caret-icon"></i>
                    </button>
                    <div class="mobile-dropdown-content">
                        <!-- Updated mobile onclick handlers with event param -->
                        <a href="#" class="dropdown-item"
                            onclick="openProductByName('Stand Up Pouches', event); return false;">Stand Up Pouches</a>
                        <a href="#" class="dropdown-item"
                            onclick="openProductByName('Zipper Pouches', event); return false;">Zipper Pouches</a>
                        <a href="#" class="dropdown-item"
                            onclick="openProductByName('Gussetted Pouches', event); return false;">Gussetted Pouches</a>
                        <a href="#" class="dropdown-item"
                            onclick="openProductByName('Centre Seal Pouches', event); return false;">Centre Seal
                            Pouches</a>
                        <a href="#" class="dropdown-item"
                            onclick="openProductByName('3 Side Seal', event); return false;">3
                            Side Seal Pouches</a>
                        <a href="#" class="dropdown-item"
                            onclick="openProductByName('Spout Pouches', event); return false;">Spout Pouches</a>
                        <a href="#" class="dropdown-item"
                            onclick="openProductByName('Vacuum Pouches', event); return false;">Vacuum Pouches</a>
                        <a href="#" class="dropdown-item"
                            onclick="openProductByName('D Cut & Euro Hole', event); return false;">D Cut & Euro Hole
                            Pouches</a>
                        <a href="#" class="dropdown-item"
                            onclick="openProductByName('Shrink Film', event); return false;">Shrink Film</a>
                        <a href="#" class="dropdown-item"
                            onclick="openProductByName('Mulching Film', event); return false;">Mulching Film</a>
                        <a href="#" class="dropdown-item"
                            onclick="openProductByName('LD Liners', event); return false;">LD
                            Liners</a>
                        <a href="#" class="dropdown-item"
                            onclick="openProductByName('Stretch Film', event); return false;">Stretch Film</a>
                    </div>
                </div>

                <div>
                    <button class="mobile-dropdown-btn">
                        <span>Ecosystem</span>
                        <i class="ph ph-caret-down caret-icon"></i>
                    </button>
                    <div class="mobile-dropdown-content">
                        <a href="#" class="mobile-sub-link">Technology Infrastructure</a>
                        <a href="#" class="mobile-sub-link">Manufacturing Process</a>
                        <a href="#" class="mobile-sub-link">Strategic Ventures</a>
                    </div>
                </div>

                <a href="./Quality-assurance/index.html" class="mobile-link">Quality</a>
                <a href="./ventures/index.html" class="mobile-link">Ventures</a>
                <a href="#" class="mobile-link">Careers</a>
                <a href="./Contact-us/index.html" class="mobile-link">Contact</a>

                <div>
                    <button class="mobile-dropdown-btn">
                        <span>Knowledge Center</span>
                        <i class="ph ph-caret-down caret-icon"></i>
                    </button>
                    <div class="mobile-dropdown-content">
                        <a href="#" class="mobile-sub-link">Insights & Blogs</a>
                        <a href="#" class="mobile-sub-link">News & Updates</a>
                        <a href="#" class="mobile-sub-link">Certifications & Compliance</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- HOME VIEW: Product Grid -->
    <div id="home-view" class="pkg-section">
        <div class="pkg-container">
            <h1 class="reveal">Explore Our High-Quality Packaging Products</h1>

            <!-- Search Bar -->
            <div class="search-container reveal">
                <input type="text" id="searchInput" class="search-input"
                    placeholder="Search for products (e.g. Zipper, Film)...">
                <i class="ph ph-magnifying-glass search-icon"></i>
            </div>

            <!-- Grid Layout Populated by JS -->
            <div class="pkg-product-grid" id="productGrid"></div>
        </div>
    </div>

    <!-- PRODUCT DETAIL VIEW (Hidden by default) -->
    <div id="product-view" class="product-details-section">
        <div class="pd-header">
            <!-- Added id for zoom interaction -->
            <div class="pd-image-container" id="zoomContainer">
                <img id="pd-image" src="" alt="" class="pd-image"
                    onerror="this.src='https://placehold.co/600x450?text=No+Image'">
            </div>
            <div class="pd-info">
                <h1 id="pd-title" class="pd-title">Product Name</h1>

                <h2 class="pd-spec-title">Specification</h2>
                <p id="pd-specs" class="pd-spec-text">
                    Loading specifications...
                </p>

                <div class="btn-group">
                    <button onclick="openQuoteModal()" class="quote-btn">
                        <i class="ph ph-chat-text"></i> Request Quote
                    </button>
                    <!-- Calls history.back() to keep navigation consistent -->
                    <button onclick="history.back()" class="back-btn">
                        <i class="ph ph-arrow-left"></i> Back to Products
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- REQUEST QUOTE MODAL -->
    <div id="quoteModal" class="modal-overlay">
        <!-- Added data-lenis-prevent to enable scrolling inside modal -->
        <div class="modal-content" data-lenis-prevent>
            <i class="ph ph-x modal-close" onclick="closeQuoteModal()"></i>
            <h3 class="modal-title">Request a Quote</h3>

            <form onsubmit="submitQuote(event)">
                <div class="form-group">
                    <label class="form-label">Product of Interest</label>
                    <input type="text" id="quoteProduct" class="form-input" readonly style="background-color: #f3f4f6;">
                </div>
                <div class="form-group">
                    <label class="form-label">Your Name</label>
                    <input type="text" class="form-input" placeholder="John Doe" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Email Address</label>
                    <input type="email" class="form-input" placeholder="john@example.com" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Phone Number</label>
                    <input type="tel" class="form-input" placeholder="+91 98765 43210" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Message / Requirements</label>
                    <textarea class="form-textarea"
                        placeholder="Please describe your requirements (quantity, size, etc.)" required></textarea>
                </div>
                <button type="submit" class="modal-submit">Send Request</button>
            </form>
        </div>
    </div>

    <footer class="footer-section reveal">
        <div class="container">
            <div class="footer-content">
                <div class="footer-col">
                    <div class="footer-logo">
                        <img src="./asset/RRD_LOGO.png" alt="RRD Logo"
                            onerror="this.onerror=null; this.src='https://placehold.co/150x50/ffffff/3d4094?text=RRD';">
                    </div>
                    <p class="footer-about-text">
                        Flexible Packaging Manufacturer delivering quality-driven packaging solutions.
                    </p>
                </div>
                <div class="footer-col">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="#">Home</a></li>
                        <li><a href="./Aboutus/index.html">About Us</a></li>
                        <li><a href="#">Products</a></li>
                        <li><a href="./Quality-assurance/index.html">Quality</a></li>
                        <li><a href="./Contact-us/index.html">Contact Us</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Contact Us</h3>
                    <ul class="footer-contact">
                        <li>
                            <i class="ph ph-map-pin"></i>
                            <span>
                                <strong>Factory Address:</strong><br>
                                A-13/14, Old MIDC Area,<br>
                                Jalna â€“ 431203, Maharashtra, India
                            </span>
                        </li>
                        <li>
                            <i class="ph ph-phone"></i>
                            <span><strong>Phone:</strong><br>+91 9422291368</span>
                        </li>
                        <li>
                            <i class="ph ph-envelope"></i>
                            <span><strong>Email:</strong><br>info@rrflexipack.com</span>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; R.R.D. Flexi Pack. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Define lenis globally so it can be accessed by functions outside DOMContentLoaded
        let lenis;

        function logClick(productName) {
            console.log("User clicked on product: " + productName);
        }

        // Updated product data with specific specs and image URLs
        const productData = [
            {
                title: 'Vacuum Pouches',
                slug: 'vacuum-pouches',
                image: 'https://images.unsplash.com/photo-1622483767028-3f66f32aef97?auto=format&fit=crop&w=800&q=80',
                specs: 'Our Vacuum Pouches are engineered with multi-layer co-extruded films to provide superior barrier protection against oxygen and moisture. Available in thicknesses ranging from 50 to 150 microns, these pouches ensure extended shelf life for perishable items such as meats, cheeses, and nuts. They feature excellent puncture resistance and high clarity for premium product display.'
            },
            {
                title: 'Shrink Film',
                slug: 'shrink-film',
                image: 'https://images.unsplash.com/photo-1595348092801-6c4596d11566?auto=format&fit=crop&w=800&q=80',
                specs: 'High-clarity Polyolefin and LDPE Shrink Films designed for bundling and protection. These films offer strong seal strength, high shrinkage ratios (up to 70%), and excellent tear resistance. Ideal for packaging beverages, cosmetics, and industrial goods, ensuring a tight, tamper-evident wrap.'
            },
            {
                title: 'D Cut & Euro Hole',
                slug: 'd-cut-euro-hole',
                image: 'https://images.unsplash.com/photo-1606296319806-253c528ce07c?auto=format&fit=crop&w=800&q=80',
                specs: 'Convenient display pouches featuring reinforced D-Cut handles or standardized Euro Holes for retail hanging. Manufactured from laminated structures (PET/PE or BOPP/CPP) to support heavy loads while maintaining aesthetic appeal. Custom sizes available for retail and exhibition use.'
            },
            {
                title: '3 Side Seal',
                slug: '3-side-seal',
                image: 'https://images.unsplash.com/photo-1629196929940-2792d2422700?auto=format&fit=crop&w=800&q=80',
                specs: 'Versatile flat pouches sealed on three sides, offering a cost-effective solution for single-serve applications. Suitable for powders, pastes, and granulates. Available in foil, clear, and metallized structures with optional tear notches for easy opening.'
            },
            {
                title: 'Spout Pouches',
                slug: 'spout-pouches',
                image: 'https://images.unsplash.com/photo-1620916566398-39f1143ab7be?auto=format&fit=crop&w=800&q=80',
                specs: 'Innovative liquid packaging solution replacing rigid bottles. These spout pouches feature durable weld spouts (8.5mm to 33mm diameters) and leak-proof caps. Ideal for beverages, oils, detergents, and sauces. Reduces transport volume and carbon footprint compared to rigid containers.'
            },
            {
                title: 'Stand Up Pouches',
                slug: 'stand-up-pouches',
                image: 'https://images.unsplash.com/photo-1601612447953-b09b5523dc17?auto=format&fit=crop&w=800&q=80',
                specs: 'Self-standing pouches with a bottom gusset for maximum shelf presence. Available in Zipper, K-Seal, and Round Bottom formats. Made from high-barrier laminates to protect against light and humidity. Perfect for snacks, pet food, and coffee.'
            },
            {
                title: 'Zipper Pouches',
                slug: 'zipper-pouches',
                image: 'https://images.unsplash.com/photo-1596547608882-6b941c411475?auto=format&fit=crop&w=800&q=80',
                specs: 'Resealable pouches equipped with high-quality press-to-close zippers. Ensures product freshness after opening. Available in various formats including Stand-Up and 3-Side Seal. Suitable for dry goods, confectionery, and hardware parts.'
            },
            {
                title: 'Gussetted Pouches',
                slug: 'gussetted-pouches',
                image: 'https://images.unsplash.com/photo-1607613009820-a29f7bb6dc2d?auto=format&fit=crop&w=800&q=80',
                specs: 'Expandable side or bottom gusset pouches designed for high-volume packaging. Offers excellent stability and efficient storage utilization. Commonly used for coffee, tea, and heavy bulk products like rice and flour.'
            },
            {
                title: 'Centre Seal Pouches',
                slug: 'centre-seal-pouches',
                image: 'https://images.unsplash.com/photo-1632511046738-9273c333066d?auto=format&fit=crop&w=800&q=80',
                specs: 'Classic pillow-type pouches with a central back seal (fin or lap seal). Offers a large printing area on both front and back. Ideal for chips, snacks, pulses, and spices. Compatible with high-speed Vertical Form Fill Seal (VFFS) machines.'
            },
            {
                title: 'Laminated Rolls',
                slug: 'laminated-rolls',
                image: 'https://images.unsplash.com/photo-1616401784845-180882ba9ba8?auto=format&fit=crop&w=800&q=80',
                specs: 'Custom-printed multi-layer roll stock for Form-Fill-Seal (FFS) machines. Capabilities include rotogravure printing up to 8 colors. Structures optimized for high-speed packing lines with excellent hot-tack and seal integrity.'
            },
            {
                title: 'Mulching Film',
                slug: 'mulching-film',
                image: 'https://images.unsplash.com/photo-1500382017468-9049fed747ef?auto=format&fit=crop&w=800&q=80',
                specs: 'Agricultural grade UV-stabilized films designed to suppress weeds, conserve soil moisture, and regulate temperature. Available in Silver/Black, White/Black, and transparent varieties. Thicknesses range from 20 to 100 microns.'
            },
            {
                title: 'LD Liners',
                slug: 'ld-liners',
                image: 'https://images.unsplash.com/photo-1603565983578-8321648d8883?auto=format&fit=crop&w=800&q=80',
                specs: 'Heavy-duty Low Density Polyethylene (LDPE) liners for drums, cartons, and FIBC bags. Features high tear strength and chemical resistance. Food-grade compliant materials available for bulk food storage.'
            },
            {
                title: 'Stretch Film',
                slug: 'stretch-film',
                image: 'https://images.unsplash.com/photo-1587595431973-160d0d94add1?auto=format&fit=crop&w=800&q=80',
                specs: 'Industrial grade LLDPE Stretch Film for pallet wrapping. Offers up to 300% pre-stretch capability, high puncture resistance, and excellent load retention. Available in manual hand rolls and machine rolls.'
            }
        ];

        // --- Core Navigation Function (Handles URL push & View Update) ---
        function navigateToProduct(index) {
            const product = productData[index];
            if (!product) return;

            // 1. Update URL
            const newUrl = `./Products/${product.slug}`;
            window.history.pushState({ path: newUrl }, '', newUrl);

            // 2. Update View
            openProductView(index);
        }

        // --- View Updater (DOM manipulation only) ---
        function openProductView(index) {
            const product = productData[index];
            if (!product) return;

            // Populate Data
            document.getElementById('pd-image').src = product.image;
            document.getElementById('pd-image').alt = product.title;
            document.getElementById('pd-title').innerText = product.title;
            document.getElementById('pd-specs').innerText = product.specs;
            document.getElementById('quoteProduct').value = product.title;

            // Reset Zoom
            const img = document.getElementById('pd-image');
            img.style.transform = 'scale(1)';

            // Toggle Views
            document.getElementById('home-view').style.display = 'none';
            document.getElementById('product-view').style.display = 'block';

            // Scroll to top
            if (lenis) {
                lenis.scrollTo(0, { immediate: true });
            } else {
                window.scrollTo(0, 0);
            }
        }

        function closeProductView() {
            document.getElementById('product-view').style.display = 'none';
            document.getElementById('home-view').style.display = 'block';
            if (lenis) lenis.scrollTo(0, { immediate: true });
        }

        // --- Helper for Name-based Navigation (Dropdowns) ---
        // Updated to accept event and close desktop dropdowns
        function openProductByName(name, event) {
            const index = productData.findIndex(p => p.title === name);
            if (index !== -1) {
                navigateToProduct(index);

                // Desktop: Force close dropdown if it was the source of the click
                if (event && event.target) {
                    const dropdown = event.target.closest('.dropdown-menu');
                    if (dropdown) {
                        dropdown.style.display = 'none';
                        // Re-enable after short delay to allow mouse to move away naturally
                        setTimeout(() => {
                            dropdown.style.display = '';
                        }, 500);
                    }
                }

                // Mobile: Close mobile menu if open
                const mobileMenu = document.getElementById('mobile-menu');
                const menuIcon = document.getElementById('menu-icon');
                if (mobileMenu && mobileMenu.classList.contains('open')) {
                    mobileMenu.classList.remove('open');
                    menuIcon.classList.remove('ph-x');
                    menuIcon.classList.add('ph-list');
                    if (lenis) lenis.start();
                }
            }
        }

        // --- Grid Rendering Logic ---
        function renderGrid(products) {
            const gridContainer = document.getElementById('productGrid');
            if (!gridContainer) return;

            gridContainer.innerHTML = '';

            if (products.length === 0) {
                gridContainer.innerHTML = '<p style="text-align:center; width:100%; font-size:1.2rem; color:#666;">No products found.</p>';
                return;
            }

            products.forEach((product) => {
                const card = document.createElement('a');
                card.href = `./Products/${product.slug}`;
                card.className = 'pkg-product-card reveal active';

                card.onclick = function (e) {
                    e.preventDefault();
                    const index = productData.indexOf(product);
                    navigateToProduct(index); // Use centralized navigation
                };

                card.innerHTML = `
                    <img src="${product.image}" alt="${product.title}" class="pkg-product-image" onerror="this.src='https://placehold.co/400x350?text=No+Image'">
                    <div class="pkg-product-title">${product.title}</div>
                    <i class="ph ph-arrow-right arrow-icon"></i>
                `;

                gridContainer.appendChild(card);
            });
        }

        // --- Browser Back/Forward Handling (Popstate) ---
        window.addEventListener('popstate', (event) => {
            if (event.state && event.state.path) {
                // If the history state has a path, extract slug and open product
                // This handles "Forward" to a product page
                const slug = event.state.path.split('/').pop();
                const index = productData.findIndex(p => p.slug === slug);
                if (index !== -1) {
                    openProductView(index); // Just view, don't push state again
                }
            } else {
                // If no state (or back to root), show home
                closeProductView();
            }
        });

        // --- Search Logic ---
        const searchInput = document.getElementById('searchInput');
        if (searchInput) {
            searchInput.addEventListener('input', (e) => {
                const term = e.target.value.toLowerCase();
                const filtered = productData.filter(p => p.title.toLowerCase().includes(term));
                renderGrid(filtered);
            });
        }

        // --- Modal Logic ---
        const modal = document.getElementById('quoteModal');

        function openQuoteModal() {
            modal.classList.add('open');
        }

        function closeQuoteModal() {
            modal.classList.remove('open');
        }

        function submitQuote(e) {
            e.preventDefault();
            const btn = document.querySelector('.modal-submit');
            const originalText = btn.innerText;
            btn.innerText = "Sending...";

            setTimeout(() => {
                alert("Quote request sent successfully! We will contact you shortly.");
                closeQuoteModal();
                btn.innerText = originalText;
                e.target.reset();
            }, 1000);
        }

        if (modal) {
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeQuoteModal();
                }
            });
        }

        // --- Image Zoom Logic ---
        const zoomContainer = document.getElementById('zoomContainer');
        const zoomImage = document.getElementById('pd-image');

        if (zoomContainer && zoomImage) {
            zoomContainer.addEventListener('mousemove', (e) => {
                const { left, top, width, height } = zoomContainer.getBoundingClientRect();
                const x = ((e.clientX - left) / width) * 100;
                const y = ((e.clientY - top) / height) * 100;
                zoomImage.style.transformOrigin = `${x}% ${y}%`;
                zoomImage.style.transform = 'scale(2)';
            });

            zoomContainer.addEventListener('mouseleave', () => {
                zoomImage.style.transform = 'scale(1)';
                setTimeout(() => {
                    zoomImage.style.transformOrigin = 'center center';
                }, 200);
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            renderGrid(productData);

            lenis = new Lenis({
                duration: 1.2,
                easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
                direction: 'vertical',
                gestureDirection: 'vertical',
                smooth: true,
                mouseMultiplier: 1,
                smoothTouch: false,
                touchMultiplier: 2,
            });

            function raf(time) {
                lenis.raf(time);
                requestAnimationFrame(raf);
            }

            requestAnimationFrame(raf);

            const loader = document.getElementById('loader');
            setTimeout(() => {
                if (loader) {
                    loader.classList.add('hidden');
                    document.body.classList.add('loaded');
                    setTimeout(() => {
                        loader.style.display = 'none';
                    }, 600);
                }
            }, 1000);

            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            const menuIcon = document.getElementById('menu-icon');

            if (mobileMenuBtn && mobileMenu) {
                mobileMenuBtn.addEventListener('click', () => {
                    mobileMenu.classList.toggle('open');
                    const isOpen = mobileMenu.classList.contains('open');
                    if (isOpen) {
                        menuIcon.classList.remove('ph-list');
                        menuIcon.classList.add('ph-x');
                        lenis.stop();
                    } else {
                        menuIcon.classList.remove('ph-x');
                        menuIcon.classList.add('ph-list');
                        lenis.start();
                    }
                });
            }

            const mobileDropdownBtns = document.querySelectorAll('.mobile-dropdown-btn');
            mobileDropdownBtns.forEach(btn => {
                btn.addEventListener('click', function () {
                    const content = this.nextElementSibling;
                    const icon = this.querySelector('.caret-icon');
                    if (content) content.classList.toggle('show');
                    if (icon) icon.classList.toggle('rotate-180');
                });
            });

            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.1
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('active');
                    } else {
                        if (entry.boundingClientRect.top > 0) {
                            entry.target.classList.remove('active');
                        }
                    }
                });
            }, observerOptions);

            const revealElements = document.querySelectorAll('.reveal, .reveal-left, .reveal-right');
            revealElements.forEach(el => observer.observe(el));
        });
    </script>
</body>

</html>